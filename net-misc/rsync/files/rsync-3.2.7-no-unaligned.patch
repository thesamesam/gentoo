See also https://github.com/WayneD/rsync/pull/428.
--- a/byteorder.h
+++ b/byteorder.h
@@ -18,6 +18,7 @@
  * with this program; if not, visit the http://fsf.org website.
  */
 
+#ifndef CAREFUL_ALIGNMENT
 #undef CAREFUL_ALIGNMENT
 
 /* We know that the x86 can handle misalignment and has the same
@@ -29,6 +30,7 @@
 #ifndef CAREFUL_ALIGNMENT
 #define CAREFUL_ALIGNMENT 1
 #endif
+#endif
 
 #define CVAL(buf,pos) (((unsigned char *)(buf))[pos])
 #define UVAL(buf,pos) ((uint32)CVAL(buf,pos))
